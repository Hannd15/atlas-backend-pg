{
    "openapi": "3.0.0",
    "info": {
        "title": "Atlas Backend API",
        "description": "API documentation for Atlas Backend - Project Management System",
        "contact": {
            "email": "support@example.com"
        },
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "/api",
            "description": "API Server"
        }
    ],
    "paths": {
        "/api/pg/academic-periods": {
            "get": {
                "tags": [
                    "Academic Periods"
                ],
                "summary": "Get all academic periods",
                "operationId": "f0d7c0cc8f0c91e548e25d41d815d55d",
                "responses": {
                    "200": {
                        "description": "List of academic periods with phase names",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "properties": {
                                            "id": {
                                                "type": "integer"
                                            },
                                            "name": {
                                                "type": "string"
                                            },
                                            "start_date": {
                                                "type": "string",
                                                "format": "date"
                                            },
                                            "end_date": {
                                                "type": "string",
                                                "format": "date"
                                            },
                                            "phase_names": {
                                                "description": "Comma-separated phase names",
                                                "type": "string"
                                            },
                                            "created_at": {
                                                "type": "string",
                                                "format": "date-time"
                                            },
                                            "updated_at": {
                                                "type": "string",
                                                "format": "date-time"
                                            }
                                        },
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Academic Periods"
                ],
                "summary": "Create a new academic period",
                "operationId": "0473bc1f48a8c7e2dba06a19c4a46ca1",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "start_date",
                                    "end_date"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "2025-1"
                                    },
                                    "start_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-01-15"
                                    },
                                    "end_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-06-30"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Academic period created successfully with automatic phases",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer"
                                        },
                                        "name": {
                                            "type": "string"
                                        },
                                        "start_date": {
                                            "type": "string",
                                            "format": "date"
                                        },
                                        "end_date": {
                                            "type": "string",
                                            "format": "date"
                                        },
                                        "created_at": {
                                            "type": "string",
                                            "format": "date-time"
                                        },
                                        "updated_at": {
                                            "type": "string",
                                            "format": "date-time"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            }
        },
        "/api/pg/academic-periods/{id}": {
            "get": {
                "tags": [
                    "Academic Periods"
                ],
                "summary": "Get a specific academic period",
                "operationId": "90d091cef8f748cf35467b88c5bce541",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Academic period details with phase IDs",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer"
                                        },
                                        "name": {
                                            "type": "string"
                                        },
                                        "start_date": {
                                            "type": "string",
                                            "format": "date"
                                        },
                                        "end_date": {
                                            "type": "string",
                                            "format": "date"
                                        },
                                        "phase_ids": {
                                            "type": "array",
                                            "items": {
                                                "type": "integer"
                                            }
                                        },
                                        "created_at": {
                                            "type": "string",
                                            "format": "date-time"
                                        },
                                        "updated_at": {
                                            "type": "string",
                                            "format": "date-time"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Academic period not found"
                    }
                }
            },
            "put": {
                "tags": [
                    "Academic Periods"
                ],
                "summary": "Update an academic period",
                "operationId": "e096c1c3d099f5a8477c9c8618d6df65",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string"
                                    },
                                    "start_date": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "end_date": {
                                        "type": "string",
                                        "format": "date"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Academic period updated successfully"
                    },
                    "404": {
                        "description": "Academic period not found"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            },
            "delete": {
                "tags": [
                    "Academic Periods"
                ],
                "summary": "Delete an academic period",
                "operationId": "da734672bab8964ba9c5915f8fb9b46b",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Academic period deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Academic period deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Academic period not found"
                    }
                }
            }
        },
        "/api/pg/academic-periods/dropdown": {
            "get": {
                "tags": [
                    "Academic Periods"
                ],
                "summary": "Get academic periods for dropdown",
                "operationId": "5fa378d21ced40786c74e01f16e74857",
                "responses": {
                    "200": {
                        "description": "List of academic periods formatted for dropdowns",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "properties": {
                                            "value": {
                                                "type": "integer"
                                            },
                                            "label": {
                                                "type": "string"
                                            }
                                        },
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/pg/deliverables": {
            "get": {
                "tags": [
                    "Deliverables"
                ],
                "summary": "Get all deliverables",
                "operationId": "7ae26f21055ed76fad4e7bb42aaca919",
                "responses": {
                    "200": {
                        "description": "List of deliverables with phase and file names"
                    }
                }
            },
            "post": {
                "tags": [
                    "Deliverables"
                ],
                "summary": "Create deliverable(s) - supports both single object and batch creation",
                "operationId": "5c940f036f85439fbcca31a5d91157f5",
                "requestBody": {
                    "description": "Single deliverable object or array of deliverables",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "oneOf": [
                                    {
                                        "required": [
                                            "phase_id",
                                            "name",
                                            "due_date"
                                        ],
                                        "properties": {
                                            "phase_id": {
                                                "type": "integer",
                                                "example": 1
                                            },
                                            "name": {
                                                "type": "string",
                                                "example": "Entrega 1"
                                            },
                                            "due_date": {
                                                "type": "string",
                                                "format": "date-time",
                                                "example": "2025-03-15 23:59:00"
                                            },
                                            "file_ids": {
                                                "type": "array",
                                                "items": {
                                                    "type": "integer"
                                                }
                                            }
                                        },
                                        "type": "object"
                                    },
                                    {
                                        "type": "array",
                                        "items": {
                                            "required": [
                                                "phase_id",
                                                "name",
                                                "due_date"
                                            ],
                                            "properties": {
                                                "phase_id": {
                                                    "type": "integer"
                                                },
                                                "name": {
                                                    "type": "string"
                                                },
                                                "due_date": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "file_ids": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "integer"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    }
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Deliverable(s) created successfully"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            }
        },
        "/api/pg/deliverables/{id}": {
            "get": {
                "tags": [
                    "Deliverables"
                ],
                "summary": "Get a specific deliverable",
                "operationId": "e72c8bdf3e1a4d751f4beba2924c6c8c",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Deliverable details with relation IDs"
                    }
                }
            },
            "put": {
                "tags": [
                    "Deliverables"
                ],
                "summary": "Update a deliverable",
                "operationId": "4538913078ae021375594e7b5970406e",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "phase_id": {
                                        "type": "integer"
                                    },
                                    "name": {
                                        "type": "string"
                                    },
                                    "due_date": {
                                        "type": "string",
                                        "format": "date-time"
                                    },
                                    "file_ids": {
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Deliverable updated successfully"
                    }
                }
            },
            "delete": {
                "tags": [
                    "Deliverables"
                ],
                "summary": "Delete a deliverable",
                "operationId": "3a2d130b458970794b3cd681f260edbc",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Deliverable deleted successfully"
                    }
                }
            }
        },
        "/api/pg/deliverables/dropdown": {
            "get": {
                "tags": [
                    "Deliverables"
                ],
                "summary": "Get deliverables for dropdown",
                "operationId": "8bde9c6f60854a0c9a126491660ce14a",
                "responses": {
                    "200": {
                        "description": "List of deliverables formatted for dropdowns"
                    }
                }
            }
        },
        "/api/pg/deliverable-files": {
            "get": {
                "tags": [
                    "Deliverable Files"
                ],
                "summary": "Get all deliverable-file associations",
                "operationId": "a98bc04dabe0e82011214630bc603f37",
                "responses": {
                    "200": {
                        "description": "List of deliverable-file associations with related names"
                    }
                }
            },
            "post": {
                "tags": [
                    "Deliverable Files"
                ],
                "summary": "Create a new deliverable-file association",
                "operationId": "72d938293fa0e691f76105770add76b4",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "deliverable_id",
                                    "file_id"
                                ],
                                "properties": {
                                    "deliverable_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "file_id": {
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Deliverable-file association created successfully"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            }
        },
        "/api/pg/deliverable-files/{deliverable_id}/{file_id}": {
            "get": {
                "tags": [
                    "Deliverable Files"
                ],
                "summary": "Get a specific deliverable-file association",
                "operationId": "337b83fc2d455a195056879d6d1d1072",
                "parameters": [
                    {
                        "name": "deliverable_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "file_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Deliverable-file association details with relation IDs"
                    }
                }
            },
            "delete": {
                "tags": [
                    "Deliverable Files"
                ],
                "summary": "Delete a deliverable-file association",
                "operationId": "e2885067cfda0c474fe95604da859f6f",
                "parameters": [
                    {
                        "name": "deliverable_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "file_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Deliverable-file association deleted successfully"
                    }
                }
            }
        },
        "/api/pg/files": {
            "get": {
                "tags": [
                    "Files"
                ],
                "summary": "Get all files",
                "operationId": "224cc93ba558bac42ca6feb764cf1516",
                "responses": {
                    "200": {
                        "description": "List of files with deliverable, submission, repository project, and repository proposal names"
                    }
                }
            },
            "post": {
                "tags": [
                    "Files"
                ],
                "summary": "Create a new file",
                "operationId": "19ef7dd81d5b1bd0f2882c838cfb5138",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "extension",
                                    "url"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "document.pdf"
                                    },
                                    "extension": {
                                        "type": "string",
                                        "example": "pdf"
                                    },
                                    "url": {
                                        "type": "string",
                                        "example": "https://example.com/files/document.pdf"
                                    },
                                    "deliverable_ids": {
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        }
                                    },
                                    "submission_ids": {
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        }
                                    },
                                    "repository_project_ids": {
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        }
                                    },
                                    "repository_proposal_ids": {
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "File created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer"
                                        },
                                        "name": {
                                            "type": "string"
                                        },
                                        "extension": {
                                            "type": "string"
                                        },
                                        "url": {
                                            "type": "string"
                                        },
                                        "academic_period_name": {
                                            "type": "string",
                                            "nullable": true
                                        },
                                        "deliverable_name": {
                                            "type": "string",
                                            "nullable": true
                                        },
                                        "created_at": {
                                            "type": "string",
                                            "format": "date-time"
                                        },
                                        "updated_at": {
                                            "type": "string",
                                            "format": "date-time"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            }
        },
        "/api/pg/files/{id}": {
            "get": {
                "tags": [
                    "Files"
                ],
                "summary": "Get a specific file",
                "operationId": "77b9f4032f10aeea13ec648db201921d",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "File details with relation IDs, academic period name, and deliverable name",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer"
                                        },
                                        "name": {
                                            "type": "string"
                                        },
                                        "extension": {
                                            "type": "string"
                                        },
                                        "url": {
                                            "type": "string"
                                        },
                                        "academic_period_name": {
                                            "type": "string",
                                            "nullable": true
                                        },
                                        "deliverable_name": {
                                            "type": "string",
                                            "nullable": true
                                        },
                                        "deliverable_ids": {
                                            "type": "array",
                                            "items": {
                                                "type": "integer"
                                            }
                                        },
                                        "submission_ids": {
                                            "type": "array",
                                            "items": {
                                                "type": "integer"
                                            }
                                        },
                                        "repository_project_ids": {
                                            "type": "array",
                                            "items": {
                                                "type": "integer"
                                            }
                                        },
                                        "repository_proposal_ids": {
                                            "type": "array",
                                            "items": {
                                                "type": "integer"
                                            }
                                        },
                                        "created_at": {
                                            "type": "string",
                                            "format": "date-time"
                                        },
                                        "updated_at": {
                                            "type": "string",
                                            "format": "date-time"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Files"
                ],
                "summary": "Update a file",
                "operationId": "6d0b1b3a3ae4865966663c585964f127",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string"
                                    },
                                    "extension": {
                                        "type": "string"
                                    },
                                    "url": {
                                        "type": "string"
                                    },
                                    "deliverable_ids": {
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        }
                                    },
                                    "submission_ids": {
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        }
                                    },
                                    "repository_project_ids": {
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        }
                                    },
                                    "repository_proposal_ids": {
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "File updated successfully"
                    }
                }
            },
            "delete": {
                "tags": [
                    "Files"
                ],
                "summary": "Delete a file",
                "operationId": "90c924485b81c1024df6c78a0de0d830",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "File deleted successfully"
                    }
                }
            }
        },
        "/api/pg/files/dropdown": {
            "get": {
                "tags": [
                    "Files"
                ],
                "summary": "Get files for dropdown",
                "operationId": "0b48ddf4cf380fd0cd8254477b9a4c5c",
                "responses": {
                    "200": {
                        "description": "List of files formatted for dropdowns"
                    }
                }
            }
        },
        "/api/pg/phases": {
            "get": {
                "tags": [
                    "Phases"
                ],
                "summary": "Get all phases",
                "operationId": "b25436f36fed519cb23ebc9e2e9fe4d8",
                "responses": {
                    "200": {
                        "description": "List of phases with period and deliverable names"
                    }
                }
            }
        },
        "/api/pg/phases/{id}": {
            "get": {
                "tags": [
                    "Phases"
                ],
                "summary": "Get a specific phase",
                "operationId": "13e921a3841e0e3189fabb65a71c2f46",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Phase details with relation IDs"
                    }
                }
            },
            "put": {
                "tags": [
                    "Phases"
                ],
                "summary": "Update a phase",
                "operationId": "f4a65f250c51c588d34e357f76c4c155",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string"
                                    },
                                    "start_date": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "end_date": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "period_id": {
                                        "type": "integer"
                                    },
                                    "deliverable_ids": {
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Phase updated successfully"
                    }
                }
            },
            "delete": {
                "tags": [
                    "Phases"
                ],
                "summary": "Delete a phase",
                "operationId": "171ea40de8aa01391a64015a7200abc0",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Phase deleted successfully"
                    }
                }
            }
        },
        "/api/pg/phases/dropdown": {
            "get": {
                "tags": [
                    "Phases"
                ],
                "summary": "Get phases for dropdown",
                "operationId": "755caaf39b8cf85852e62911d12b3e41",
                "responses": {
                    "200": {
                        "description": "List of phases formatted for dropdowns"
                    }
                }
            }
        }
    },
    "tags": [
        {
            "name": "Academic Periods",
            "description": "API endpoints for managing academic periods"
        },
        {
            "name": "Deliverables",
            "description": "API endpoints for managing deliverables (supports batch creation)"
        },
        {
            "name": "Deliverable Files",
            "description": "API endpoints for managing deliverable-file associations"
        },
        {
            "name": "Files",
            "description": "API endpoints for managing files"
        },
        {
            "name": "Phases",
            "description": "API endpoints for managing phases (read-only, phases are auto-created with academic periods)"
        }
    ]
}